(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "../../node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!*******************************************************************************************************!*\
  !*** C:/Users/hataguchi/Desktop/workspace/Cinerino/frontend/node_modules/moment/locale sync ^\.\/.*$ ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "../../node_modules/moment/locale/af.js",
	"./af.js": "../../node_modules/moment/locale/af.js",
	"./ar": "../../node_modules/moment/locale/ar.js",
	"./ar-dz": "../../node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "../../node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "../../node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "../../node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "../../node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "../../node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "../../node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "../../node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "../../node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "../../node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "../../node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "../../node_modules/moment/locale/ar-tn.js",
	"./ar.js": "../../node_modules/moment/locale/ar.js",
	"./az": "../../node_modules/moment/locale/az.js",
	"./az.js": "../../node_modules/moment/locale/az.js",
	"./be": "../../node_modules/moment/locale/be.js",
	"./be.js": "../../node_modules/moment/locale/be.js",
	"./bg": "../../node_modules/moment/locale/bg.js",
	"./bg.js": "../../node_modules/moment/locale/bg.js",
	"./bm": "../../node_modules/moment/locale/bm.js",
	"./bm.js": "../../node_modules/moment/locale/bm.js",
	"./bn": "../../node_modules/moment/locale/bn.js",
	"./bn.js": "../../node_modules/moment/locale/bn.js",
	"./bo": "../../node_modules/moment/locale/bo.js",
	"./bo.js": "../../node_modules/moment/locale/bo.js",
	"./br": "../../node_modules/moment/locale/br.js",
	"./br.js": "../../node_modules/moment/locale/br.js",
	"./bs": "../../node_modules/moment/locale/bs.js",
	"./bs.js": "../../node_modules/moment/locale/bs.js",
	"./ca": "../../node_modules/moment/locale/ca.js",
	"./ca.js": "../../node_modules/moment/locale/ca.js",
	"./cs": "../../node_modules/moment/locale/cs.js",
	"./cs.js": "../../node_modules/moment/locale/cs.js",
	"./cv": "../../node_modules/moment/locale/cv.js",
	"./cv.js": "../../node_modules/moment/locale/cv.js",
	"./cy": "../../node_modules/moment/locale/cy.js",
	"./cy.js": "../../node_modules/moment/locale/cy.js",
	"./da": "../../node_modules/moment/locale/da.js",
	"./da.js": "../../node_modules/moment/locale/da.js",
	"./de": "../../node_modules/moment/locale/de.js",
	"./de-at": "../../node_modules/moment/locale/de-at.js",
	"./de-at.js": "../../node_modules/moment/locale/de-at.js",
	"./de-ch": "../../node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "../../node_modules/moment/locale/de-ch.js",
	"./de.js": "../../node_modules/moment/locale/de.js",
	"./dv": "../../node_modules/moment/locale/dv.js",
	"./dv.js": "../../node_modules/moment/locale/dv.js",
	"./el": "../../node_modules/moment/locale/el.js",
	"./el.js": "../../node_modules/moment/locale/el.js",
	"./en-SG": "../../node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "../../node_modules/moment/locale/en-SG.js",
	"./en-au": "../../node_modules/moment/locale/en-au.js",
	"./en-au.js": "../../node_modules/moment/locale/en-au.js",
	"./en-ca": "../../node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "../../node_modules/moment/locale/en-ca.js",
	"./en-gb": "../../node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "../../node_modules/moment/locale/en-gb.js",
	"./en-ie": "../../node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "../../node_modules/moment/locale/en-ie.js",
	"./en-il": "../../node_modules/moment/locale/en-il.js",
	"./en-il.js": "../../node_modules/moment/locale/en-il.js",
	"./en-nz": "../../node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "../../node_modules/moment/locale/en-nz.js",
	"./eo": "../../node_modules/moment/locale/eo.js",
	"./eo.js": "../../node_modules/moment/locale/eo.js",
	"./es": "../../node_modules/moment/locale/es.js",
	"./es-do": "../../node_modules/moment/locale/es-do.js",
	"./es-do.js": "../../node_modules/moment/locale/es-do.js",
	"./es-us": "../../node_modules/moment/locale/es-us.js",
	"./es-us.js": "../../node_modules/moment/locale/es-us.js",
	"./es.js": "../../node_modules/moment/locale/es.js",
	"./et": "../../node_modules/moment/locale/et.js",
	"./et.js": "../../node_modules/moment/locale/et.js",
	"./eu": "../../node_modules/moment/locale/eu.js",
	"./eu.js": "../../node_modules/moment/locale/eu.js",
	"./fa": "../../node_modules/moment/locale/fa.js",
	"./fa.js": "../../node_modules/moment/locale/fa.js",
	"./fi": "../../node_modules/moment/locale/fi.js",
	"./fi.js": "../../node_modules/moment/locale/fi.js",
	"./fo": "../../node_modules/moment/locale/fo.js",
	"./fo.js": "../../node_modules/moment/locale/fo.js",
	"./fr": "../../node_modules/moment/locale/fr.js",
	"./fr-ca": "../../node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "../../node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "../../node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "../../node_modules/moment/locale/fr-ch.js",
	"./fr.js": "../../node_modules/moment/locale/fr.js",
	"./fy": "../../node_modules/moment/locale/fy.js",
	"./fy.js": "../../node_modules/moment/locale/fy.js",
	"./ga": "../../node_modules/moment/locale/ga.js",
	"./ga.js": "../../node_modules/moment/locale/ga.js",
	"./gd": "../../node_modules/moment/locale/gd.js",
	"./gd.js": "../../node_modules/moment/locale/gd.js",
	"./gl": "../../node_modules/moment/locale/gl.js",
	"./gl.js": "../../node_modules/moment/locale/gl.js",
	"./gom-latn": "../../node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "../../node_modules/moment/locale/gom-latn.js",
	"./gu": "../../node_modules/moment/locale/gu.js",
	"./gu.js": "../../node_modules/moment/locale/gu.js",
	"./he": "../../node_modules/moment/locale/he.js",
	"./he.js": "../../node_modules/moment/locale/he.js",
	"./hi": "../../node_modules/moment/locale/hi.js",
	"./hi.js": "../../node_modules/moment/locale/hi.js",
	"./hr": "../../node_modules/moment/locale/hr.js",
	"./hr.js": "../../node_modules/moment/locale/hr.js",
	"./hu": "../../node_modules/moment/locale/hu.js",
	"./hu.js": "../../node_modules/moment/locale/hu.js",
	"./hy-am": "../../node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "../../node_modules/moment/locale/hy-am.js",
	"./id": "../../node_modules/moment/locale/id.js",
	"./id.js": "../../node_modules/moment/locale/id.js",
	"./is": "../../node_modules/moment/locale/is.js",
	"./is.js": "../../node_modules/moment/locale/is.js",
	"./it": "../../node_modules/moment/locale/it.js",
	"./it-ch": "../../node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "../../node_modules/moment/locale/it-ch.js",
	"./it.js": "../../node_modules/moment/locale/it.js",
	"./ja": "../../node_modules/moment/locale/ja.js",
	"./ja.js": "../../node_modules/moment/locale/ja.js",
	"./jv": "../../node_modules/moment/locale/jv.js",
	"./jv.js": "../../node_modules/moment/locale/jv.js",
	"./ka": "../../node_modules/moment/locale/ka.js",
	"./ka.js": "../../node_modules/moment/locale/ka.js",
	"./kk": "../../node_modules/moment/locale/kk.js",
	"./kk.js": "../../node_modules/moment/locale/kk.js",
	"./km": "../../node_modules/moment/locale/km.js",
	"./km.js": "../../node_modules/moment/locale/km.js",
	"./kn": "../../node_modules/moment/locale/kn.js",
	"./kn.js": "../../node_modules/moment/locale/kn.js",
	"./ko": "../../node_modules/moment/locale/ko.js",
	"./ko.js": "../../node_modules/moment/locale/ko.js",
	"./ku": "../../node_modules/moment/locale/ku.js",
	"./ku.js": "../../node_modules/moment/locale/ku.js",
	"./ky": "../../node_modules/moment/locale/ky.js",
	"./ky.js": "../../node_modules/moment/locale/ky.js",
	"./lb": "../../node_modules/moment/locale/lb.js",
	"./lb.js": "../../node_modules/moment/locale/lb.js",
	"./lo": "../../node_modules/moment/locale/lo.js",
	"./lo.js": "../../node_modules/moment/locale/lo.js",
	"./lt": "../../node_modules/moment/locale/lt.js",
	"./lt.js": "../../node_modules/moment/locale/lt.js",
	"./lv": "../../node_modules/moment/locale/lv.js",
	"./lv.js": "../../node_modules/moment/locale/lv.js",
	"./me": "../../node_modules/moment/locale/me.js",
	"./me.js": "../../node_modules/moment/locale/me.js",
	"./mi": "../../node_modules/moment/locale/mi.js",
	"./mi.js": "../../node_modules/moment/locale/mi.js",
	"./mk": "../../node_modules/moment/locale/mk.js",
	"./mk.js": "../../node_modules/moment/locale/mk.js",
	"./ml": "../../node_modules/moment/locale/ml.js",
	"./ml.js": "../../node_modules/moment/locale/ml.js",
	"./mn": "../../node_modules/moment/locale/mn.js",
	"./mn.js": "../../node_modules/moment/locale/mn.js",
	"./mr": "../../node_modules/moment/locale/mr.js",
	"./mr.js": "../../node_modules/moment/locale/mr.js",
	"./ms": "../../node_modules/moment/locale/ms.js",
	"./ms-my": "../../node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "../../node_modules/moment/locale/ms-my.js",
	"./ms.js": "../../node_modules/moment/locale/ms.js",
	"./mt": "../../node_modules/moment/locale/mt.js",
	"./mt.js": "../../node_modules/moment/locale/mt.js",
	"./my": "../../node_modules/moment/locale/my.js",
	"./my.js": "../../node_modules/moment/locale/my.js",
	"./nb": "../../node_modules/moment/locale/nb.js",
	"./nb.js": "../../node_modules/moment/locale/nb.js",
	"./ne": "../../node_modules/moment/locale/ne.js",
	"./ne.js": "../../node_modules/moment/locale/ne.js",
	"./nl": "../../node_modules/moment/locale/nl.js",
	"./nl-be": "../../node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "../../node_modules/moment/locale/nl-be.js",
	"./nl.js": "../../node_modules/moment/locale/nl.js",
	"./nn": "../../node_modules/moment/locale/nn.js",
	"./nn.js": "../../node_modules/moment/locale/nn.js",
	"./pa-in": "../../node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "../../node_modules/moment/locale/pa-in.js",
	"./pl": "../../node_modules/moment/locale/pl.js",
	"./pl.js": "../../node_modules/moment/locale/pl.js",
	"./pt": "../../node_modules/moment/locale/pt.js",
	"./pt-br": "../../node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "../../node_modules/moment/locale/pt-br.js",
	"./pt.js": "../../node_modules/moment/locale/pt.js",
	"./ro": "../../node_modules/moment/locale/ro.js",
	"./ro.js": "../../node_modules/moment/locale/ro.js",
	"./ru": "../../node_modules/moment/locale/ru.js",
	"./ru.js": "../../node_modules/moment/locale/ru.js",
	"./sd": "../../node_modules/moment/locale/sd.js",
	"./sd.js": "../../node_modules/moment/locale/sd.js",
	"./se": "../../node_modules/moment/locale/se.js",
	"./se.js": "../../node_modules/moment/locale/se.js",
	"./si": "../../node_modules/moment/locale/si.js",
	"./si.js": "../../node_modules/moment/locale/si.js",
	"./sk": "../../node_modules/moment/locale/sk.js",
	"./sk.js": "../../node_modules/moment/locale/sk.js",
	"./sl": "../../node_modules/moment/locale/sl.js",
	"./sl.js": "../../node_modules/moment/locale/sl.js",
	"./sq": "../../node_modules/moment/locale/sq.js",
	"./sq.js": "../../node_modules/moment/locale/sq.js",
	"./sr": "../../node_modules/moment/locale/sr.js",
	"./sr-cyrl": "../../node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "../../node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "../../node_modules/moment/locale/sr.js",
	"./ss": "../../node_modules/moment/locale/ss.js",
	"./ss.js": "../../node_modules/moment/locale/ss.js",
	"./sv": "../../node_modules/moment/locale/sv.js",
	"./sv.js": "../../node_modules/moment/locale/sv.js",
	"./sw": "../../node_modules/moment/locale/sw.js",
	"./sw.js": "../../node_modules/moment/locale/sw.js",
	"./ta": "../../node_modules/moment/locale/ta.js",
	"./ta.js": "../../node_modules/moment/locale/ta.js",
	"./te": "../../node_modules/moment/locale/te.js",
	"./te.js": "../../node_modules/moment/locale/te.js",
	"./tet": "../../node_modules/moment/locale/tet.js",
	"./tet.js": "../../node_modules/moment/locale/tet.js",
	"./tg": "../../node_modules/moment/locale/tg.js",
	"./tg.js": "../../node_modules/moment/locale/tg.js",
	"./th": "../../node_modules/moment/locale/th.js",
	"./th.js": "../../node_modules/moment/locale/th.js",
	"./tl-ph": "../../node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "../../node_modules/moment/locale/tl-ph.js",
	"./tlh": "../../node_modules/moment/locale/tlh.js",
	"./tlh.js": "../../node_modules/moment/locale/tlh.js",
	"./tr": "../../node_modules/moment/locale/tr.js",
	"./tr.js": "../../node_modules/moment/locale/tr.js",
	"./tzl": "../../node_modules/moment/locale/tzl.js",
	"./tzl.js": "../../node_modules/moment/locale/tzl.js",
	"./tzm": "../../node_modules/moment/locale/tzm.js",
	"./tzm-latn": "../../node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "../../node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "../../node_modules/moment/locale/tzm.js",
	"./ug-cn": "../../node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "../../node_modules/moment/locale/ug-cn.js",
	"./uk": "../../node_modules/moment/locale/uk.js",
	"./uk.js": "../../node_modules/moment/locale/uk.js",
	"./ur": "../../node_modules/moment/locale/ur.js",
	"./ur.js": "../../node_modules/moment/locale/ur.js",
	"./uz": "../../node_modules/moment/locale/uz.js",
	"./uz-latn": "../../node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "../../node_modules/moment/locale/uz-latn.js",
	"./uz.js": "../../node_modules/moment/locale/uz.js",
	"./vi": "../../node_modules/moment/locale/vi.js",
	"./vi.js": "../../node_modules/moment/locale/vi.js",
	"./x-pseudo": "../../node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "../../node_modules/moment/locale/x-pseudo.js",
	"./yo": "../../node_modules/moment/locale/yo.js",
	"./yo.js": "../../node_modules/moment/locale/yo.js",
	"./zh-cn": "../../node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "../../node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "../../node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "../../node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "../../node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "../../node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "../../node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./app/functions/index.ts":
/*!********************************!*\
  !*** ./app/functions/index.ts ***!
  \********************************/
/*! exports provided: screeningEvents2WorkEvents, createGmoTokenObject, sameMovieTicketFilter, isAvailabilityMovieTicket, createMovieTicketsFromAuthorizeSeatReservation, createPaymentMethodFromType, getTicketPrice, getItemPrice, movieTicketAuthErroCodeToMessage, getAmount, order2EventOrders, authorizeSeatReservation2Event, getRemainingSeatLength, isEligibleSeatingType, selectAvailableSeat, formatTelephone, toFull, toHalf, retry, sleep, iOSDatepickerTapBugFix, streamingDownload, string2blob, getParameter, getProject, getExternalData, createPrintCanvas, createTestPrintCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _purchase_function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./purchase.function */ "./app/functions/purchase.function.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "screeningEvents2WorkEvents", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["screeningEvents2WorkEvents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createGmoTokenObject", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["createGmoTokenObject"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sameMovieTicketFilter", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["sameMovieTicketFilter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isAvailabilityMovieTicket", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["isAvailabilityMovieTicket"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createMovieTicketsFromAuthorizeSeatReservation", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["createMovieTicketsFromAuthorizeSeatReservation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createPaymentMethodFromType", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["createPaymentMethodFromType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getTicketPrice", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["getTicketPrice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getItemPrice", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["getItemPrice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "movieTicketAuthErroCodeToMessage", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["movieTicketAuthErroCodeToMessage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getAmount", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["getAmount"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "order2EventOrders", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["order2EventOrders"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "authorizeSeatReservation2Event", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["authorizeSeatReservation2Event"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getRemainingSeatLength", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["getRemainingSeatLength"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isEligibleSeatingType", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["isEligibleSeatingType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "selectAvailableSeat", function() { return _purchase_function__WEBPACK_IMPORTED_MODULE_0__["selectAvailableSeat"]; });

/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.function */ "./app/functions/util.function.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "formatTelephone", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["formatTelephone"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toFull", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["toFull"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toHalf", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["toHalf"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "retry", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["retry"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sleep", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["sleep"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "iOSDatepickerTapBugFix", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["iOSDatepickerTapBugFix"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "streamingDownload", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["streamingDownload"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "string2blob", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["string2blob"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getParameter", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["getParameter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getProject", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["getProject"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getExternalData", function() { return _util_function__WEBPACK_IMPORTED_MODULE_1__["getExternalData"]; });

/* harmony import */ var _order_function__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./order.function */ "./app/functions/order.function.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createPrintCanvas", function() { return _order_function__WEBPACK_IMPORTED_MODULE_2__["createPrintCanvas"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createTestPrintCanvas", function() { return _order_function__WEBPACK_IMPORTED_MODULE_2__["createTestPrintCanvas"]; });

var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





/***/ }),

/***/ "./app/functions/order.function.ts":
/*!*****************************************!*\
  !*** ./app/functions/order.function.ts ***!
  \*****************************************/
/*! exports provided: createPrintCanvas, createTestPrintCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createPrintCanvas", function() { return createPrintCanvas; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTestPrintCanvas", function() { return createTestPrintCanvas; });
/* harmony import */ var _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cinerino/api-javascript-client */ "../../node_modules/@cinerino/api-javascript-client/lib/index.js");
/* harmony import */ var _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "../../node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qrcode */ "../../node_modules/qrcode/lib/browser.js");
/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qrcode__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _purchase_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./purchase.function */ "./app/functions/purchase.function.ts");
/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util.function */ "./app/functions/util.function.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





/**
 * キャンバスへ描画
 */
function drawCanvas(args) {
    return __awaiter(this, void 0, void 0, function () {
        var printData, data, canvas, size, context, drawImage, changePosition, font, _i, _a, image, imageInstance, _b, _c, text, value, eventName, limit, _d, _e, qrCode, qrcodeCanvas;
        return __generator(this, function (_f) {
            switch (_f.label) {
                case 0:
                    printData = args.printData;
                    data = args.data;
                    canvas = document.createElement('canvas');
                    size = printData.size;
                    canvas.width = size.width;
                    canvas.height = size.height;
                    context = canvas.getContext('2d');
                    if (context === null) {
                        throw new Error('context is null');
                    }
                    drawImage = function (drawImageArgs) {
                        return new Promise(function (resolve, reject) {
                            drawImageArgs.image.onload = function () {
                                context.drawImage(drawImageArgs.image, drawImageArgs.x, drawImageArgs.y, drawImageArgs.width, drawImageArgs.height);
                                resolve();
                            };
                            drawImageArgs.image.onerror = function (error) {
                                console.error(error);
                                reject(error);
                            };
                        });
                    };
                    changePosition = (function (value) {
                        var position = [
                            { key: 'center', value: canvas.width / 2 },
                            { key: 'left', value: 0 },
                            { key: 'right', value: canvas.width },
                            { key: 'top', value: 0 },
                            { key: 'bottom', value: canvas.height }
                        ];
                        var findResult = position.find(function (p) { return p.key === value; });
                        if (findResult === undefined) {
                            return value;
                        }
                        return findResult.value;
                    });
                    font = "\"Hiragino Sans\", \"Hiragino Kaku Gothic ProN\", \"\u6E38\u30B4\u30B7\u30C3\u30AF  Medium\", meiryo, sans-serif";
                    _i = 0, _a = printData.image;
                    _f.label = 1;
                case 1:
                    if (!(_i < _a.length)) return [3 /*break*/, 4];
                    image = _a[_i];
                    imageInstance = new Image();
                    imageInstance.crossOrigin = 'anonymous';
                    imageInstance.src = image.src.replace('/storage', Object(_util_function__WEBPACK_IMPORTED_MODULE_4__["getProject"])().storageUrl);
                    return [4 /*yield*/, drawImage({
                            image: imageInstance,
                            x: image.x,
                            y: image.y,
                            width: image.width,
                            height: image.height
                        })];
                case 2:
                    _f.sent();
                    _f.label = 3;
                case 3:
                    _i++;
                    return [3 /*break*/, 1];
                case 4:
                    // テキスト描画
                    for (_b = 0, _c = printData.text; _b < _c.length; _b++) {
                        text = _c[_b];
                        context.fillStyle = text.fillStyle;
                        context.font = text.font.weight + " " + text.font.size + " " + ((text.font.family === undefined) ? font : text.font.family);
                        context.textAlign = text.textAlign;
                        value = '';
                        if (text.name !== undefined) {
                            switch (text.name) {
                                case 'price':
                                    value = "\uFFE5" + data.price.toLocaleString();
                                    break;
                                case 'date':
                                    value = "(" + moment__WEBPACK_IMPORTED_MODULE_1__().format('YYYY/MM/DD HH:mm') + " \u767A\u5238)";
                                    break;
                                case 'startDate':
                                case 'endDate':
                                    value = "" + moment__WEBPACK_IMPORTED_MODULE_1__(data[text.name]).format(text.value);
                                    break;
                                case 'eventNameJa':
                                case 'eventNameEn':
                                    eventName = data[text.name];
                                    limit = Math.floor(size.width / parseInt(text.font.size, 10));
                                    if (eventName.length > limit) {
                                        context.fillText(eventName.slice(0, limit), changePosition(text.fillText.x), changePosition(text.fillText.y));
                                        context.fillText((eventName.length - limit < limit)
                                            ? eventName.slice(limit, eventName.length)
                                            : eventName.slice(limit, limit * 2), changePosition(text.fillText.x), changePosition(text.fillText.y) + parseInt(text.font.size, 10) * 1.5);
                                    }
                                    else {
                                        context.fillText(eventName, changePosition(text.fillText.x), changePosition(text.fillText.y) + parseInt(text.font.size, 10) * 0.75);
                                    }
                                    continue;
                                default:
                                    value = "" + ((text.value === undefined) ? '' : text.value) + ((data[text.name] === undefined) ? '-' : data[text.name]);
                            }
                        }
                        else if (text.value !== undefined) {
                            value = text.value;
                        }
                        else {
                            continue;
                        }
                        if (text.slice !== undefined) {
                            // 文字制限
                            value = value.slice(text.slice[0], text.slice[1]);
                        }
                        context.fillText(value, changePosition(text.fillText.x), changePosition(text.fillText.y));
                    }
                    if (!(data.qrcode !== undefined)) return [3 /*break*/, 8];
                    _d = 0, _e = printData.qrCode;
                    _f.label = 5;
                case 5:
                    if (!(_d < _e.length)) return [3 /*break*/, 8];
                    qrCode = _e[_d];
                    qrcodeCanvas = document.createElement('canvas');
                    return [4 /*yield*/, qrcode__WEBPACK_IMPORTED_MODULE_2__["toCanvas"](qrcodeCanvas, data.qrcode)];
                case 6:
                    _f.sent();
                    context.drawImage(qrcodeCanvas, qrCode.x, qrCode.y, qrCode.width, qrCode.height);
                    _f.label = 7;
                case 7:
                    _d++;
                    return [3 /*break*/, 5];
                case 8: return [2 /*return*/, canvas];
            }
        });
    });
}
/**
 * 印刷イメージ作成
 */
function createPrintCanvas(args) {
    return __awaiter(this, void 0, void 0, function () {
        var acceptedOffer, itemOffered, data, printData, canvas;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    acceptedOffer = args.acceptedOffer;
                    itemOffered = acceptedOffer.itemOffered;
                    if (itemOffered.typeOf !== _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.reservationType.EventReservation) {
                        throw new Error('reservationType is not EventReservation');
                    }
                    data = {
                        sellerNameJa: itemOffered.reservationFor.superEvent.location.name.ja,
                        sellerNameEn: itemOffered.reservationFor.superEvent.location.name.en,
                        eventNameJa: itemOffered.reservationFor.name.ja,
                        eventNameEn: itemOffered.reservationFor.name.en,
                        screenNameJa: (itemOffered.reservationFor.location.address === undefined)
                            ? itemOffered.reservationFor.location.name.ja
                            : itemOffered.reservationFor.location.address.ja + " " + itemOffered.reservationFor.location.name.ja,
                        screenNameEn: (itemOffered.reservationFor.location.address === undefined)
                            ? itemOffered.reservationFor.location.name.en
                            : itemOffered.reservationFor.location.address.en + " " + itemOffered.reservationFor.location.name.en,
                        startDate: moment__WEBPACK_IMPORTED_MODULE_1__(itemOffered.reservationFor.startDate).toISOString(),
                        endDate: moment__WEBPACK_IMPORTED_MODULE_1__(itemOffered.reservationFor.endDate).toISOString(),
                        seatNumber: (itemOffered.reservedTicket.ticketedSeat === undefined)
                            ? undefined : itemOffered.reservedTicket.ticketedSeat.seatNumber,
                        ticketNameJa: itemOffered.reservedTicket.ticketType.name.ja,
                        ticketNameEn: itemOffered.reservedTicket.ticketType.name.en,
                        price: Object(_purchase_function__WEBPACK_IMPORTED_MODULE_3__["getItemPrice"])({ priceComponents: acceptedOffer.priceSpecification.priceComponent }),
                        posName: (args.pos === undefined) ? '' : args.pos.name,
                        confirmationNumber: String(args.order.confirmationNumber),
                        orderNumber: args.order.orderNumber,
                        ticketNumber: itemOffered.id,
                        qrcode: args.qrcode,
                        index: args.index
                    };
                    printData = args.printData;
                    return [4 /*yield*/, drawCanvas({ data: data, printData: printData })];
                case 1:
                    canvas = _a.sent();
                    return [2 /*return*/, canvas];
            }
        });
    });
}
/**
 * テスト印刷用イメージ作成
 */
function createTestPrintCanvas(args) {
    return __awaiter(this, void 0, void 0, function () {
        var printData, data, canvas;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    printData = args.printData;
                    data = {
                        sellerNameJa: 'テスト劇場',
                        sellerNameEn: 'test theater',
                        eventNameJa: (Math.floor(Math.random() * 11) < 5)
                            ? 'テストイベント'
                            : 'テスト1テスト2テスト3テスト4テスト5テスト6テスト7テスト8テスト9テスト10イベント',
                        eventNameEn: (Math.floor(Math.random() * 11) < 5)
                            ? 'test event'
                            : 'test1 test2 test3 test4 test5 test6 test7 event',
                        screenNameJa: 'テストスクリーン',
                        screenNameEn: 'test screen',
                        startDate: moment__WEBPACK_IMPORTED_MODULE_1__().toISOString(),
                        endDate: moment__WEBPACK_IMPORTED_MODULE_1__().toISOString(),
                        seatNumber: 'TEST-1',
                        ticketNameJa: 'テストチケット123456',
                        ticketNameEn: 'test ticket 123456',
                        price: 1000,
                        posName: 'test-01',
                        confirmationNumber: '12345678',
                        orderNumber: 'TEST-123456-123456',
                        ticketNumber: 'TEST-123456-123456-00',
                        qrcode: 'TEST-123456-123456',
                        index: 0
                    };
                    return [4 /*yield*/, drawCanvas({ printData: printData, data: data })];
                case 1:
                    canvas = _a.sent();
                    return [2 /*return*/, canvas];
            }
        });
    });
}


/***/ }),

/***/ "./app/functions/purchase.function.ts":
/*!********************************************!*\
  !*** ./app/functions/purchase.function.ts ***!
  \********************************************/
/*! exports provided: screeningEvents2WorkEvents, createGmoTokenObject, sameMovieTicketFilter, isAvailabilityMovieTicket, createMovieTicketsFromAuthorizeSeatReservation, createPaymentMethodFromType, getTicketPrice, getItemPrice, movieTicketAuthErroCodeToMessage, getAmount, order2EventOrders, authorizeSeatReservation2Event, getRemainingSeatLength, isEligibleSeatingType, selectAvailableSeat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screeningEvents2WorkEvents", function() { return screeningEvents2WorkEvents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGmoTokenObject", function() { return createGmoTokenObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameMovieTicketFilter", function() { return sameMovieTicketFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAvailabilityMovieTicket", function() { return isAvailabilityMovieTicket; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createMovieTicketsFromAuthorizeSeatReservation", function() { return createMovieTicketsFromAuthorizeSeatReservation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createPaymentMethodFromType", function() { return createPaymentMethodFromType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTicketPrice", function() { return getTicketPrice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getItemPrice", function() { return getItemPrice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "movieTicketAuthErroCodeToMessage", function() { return movieTicketAuthErroCodeToMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAmount", function() { return getAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "order2EventOrders", function() { return order2EventOrders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "authorizeSeatReservation2Event", function() { return authorizeSeatReservation2Event; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRemainingSeatLength", function() { return getRemainingSeatLength; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEligibleSeatingType", function() { return isEligibleSeatingType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectAvailableSeat", function() { return selectAvailableSeat; });
/* harmony import */ var _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cinerino/api-javascript-client */ "../../node_modules/@cinerino/api-javascript-client/lib/index.js");
/* harmony import */ var _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "../../node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models */ "./app/models/index.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



/**
 * 作品別イベントへ変換
 */
function screeningEvents2WorkEvents(params) {
    var result = [];
    var screeningEvents = params.screeningEvents;
    screeningEvents.forEach(function (screeningEvent) {
        var registered = result.find(function (data) {
            return (data.info.superEvent.id === screeningEvent.superEvent.id);
        });
        if (registered === undefined) {
            result.push({
                info: screeningEvent,
                data: [new _models__WEBPACK_IMPORTED_MODULE_2__["Performance"](screeningEvent)]
            });
        }
        else {
            registered.data.push(new _models__WEBPACK_IMPORTED_MODULE_2__["Performance"](screeningEvent));
        }
    });
    return result;
}
/**
 * GMOトークンオブジェクト生成
 */
function createGmoTokenObject(params) {
    return new Promise(function (resolve, reject) {
        if (params.seller.paymentAccepted === undefined) {
            throw new Error('seller.paymentAccepted is undefined');
        }
        var findPaymentAcceptedResult = params.seller.paymentAccepted.find(function (paymentAccepted) {
            return (paymentAccepted.paymentMethodType === _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].paymentMethodType.CreditCard);
        });
        if (findPaymentAcceptedResult === undefined
            || findPaymentAcceptedResult.paymentMethodType !== _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].paymentMethodType.CreditCard) {
            throw new Error('paymentMethodType CreditCard not found');
        }
        window.someCallbackFunction = function someCallbackFunction(response) {
            if (response.resultCode === '000') {
                resolve(response.tokenObject);
            }
            else {
                reject(new Error(response.resultCode));
            }
        };
        var Multipayment = window.Multipayment;
        Multipayment.init(findPaymentAcceptedResult.gmoInfo.shopId);
        Multipayment.getToken(params.creditCard, window.someCallbackFunction);
    });
}
/**
 * ムビチケ検索
 */
function sameMovieTicketFilter(args) {
    var checkMovieTicketAction = args.checkMovieTicketAction;
    var checkMovieTicketActions = args.checkMovieTicketActions;
    if (checkMovieTicketAction.result === undefined
        || checkMovieTicketAction.result.purchaseNumberAuthResult.knyknrNoInfoOut === null
        || checkMovieTicketAction.result.purchaseNumberAuthResult.knyknrNoInfoOut[0].ykknInfo === null) {
        return [];
    }
    var result = [];
    checkMovieTicketActions.forEach(function (action) {
        if (action.result === undefined
            || action.result.purchaseNumberAuthResult.knyknrNoInfoOut === null
            || action.result.purchaseNumberAuthResult.knyknrNoInfoOut[0].ykknInfo === null) {
            return;
        }
        if (action.object.movieTickets[0].identifier !== checkMovieTicketAction.object.movieTickets[0].identifier) {
            return;
        }
        result.push(action);
    });
    return result;
}
/**
 * ムビチケ有効
 */
function isAvailabilityMovieTicket(checkMovieTicketAction) {
    return (checkMovieTicketAction.result !== undefined
        && checkMovieTicketAction.result.purchaseNumberAuthResult.knyknrNoInfoOut !== null
        && checkMovieTicketAction.result.purchaseNumberAuthResult.knyknrNoInfoOut[0].ykknInfo !== null);
}
/**
 *  予約情報からムビチケ情報作成
 */
function createMovieTicketsFromAuthorizeSeatReservation(args) {
    var results = [];
    var authorizeSeatReservation = args.authorizeSeatReservation;
    var pendingMovieTickets = args.pendingMovieTickets;
    var seller = args.seller;
    if (authorizeSeatReservation.result === undefined) {
        return [];
    }
    var pendingReservations = authorizeSeatReservation.result.responseBody.object.reservations;
    pendingReservations.forEach(function (pendingReservation) {
        if (pendingReservation.price === undefined
            || typeof pendingReservation.price === 'number') {
            return;
        }
        var findMovieTicketTypeChargeSpecification = pendingReservation.price.priceComponent.find(function (p) { return p.typeOf === _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.priceSpecificationType.MovieTicketTypeChargeSpecification; });
        if (findMovieTicketTypeChargeSpecification === undefined) {
            return;
        }
        var findPendingMovieTicket = pendingMovieTickets.find(function (pendingMovieTicket) {
            return (pendingMovieTicket.id === authorizeSeatReservation.id);
        });
        if (findPendingMovieTicket === undefined) {
            return;
        }
        var findReservation = findPendingMovieTicket.movieTickets.find(function (movieTicket) {
            var seatNumber = movieTicket.serviceOutput.reservedTicket.ticketedSeat.seatNumber;
            var seatSection = movieTicket.serviceOutput.reservedTicket.ticketedSeat.seatSection;
            return (pendingReservation.reservedTicket.ticketedSeat !== undefined
                && seatNumber === pendingReservation.reservedTicket.ticketedSeat.seatNumber
                && seatSection === pendingReservation.reservedTicket.ticketedSeat.seatSection);
        });
        if (findReservation === undefined) {
            return;
        }
        results.push({
            typeOf: _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].paymentMethodType.MovieTicket,
            identifier: findReservation.identifier,
            accessCode: findReservation.accessCode,
            serviceType: findReservation.serviceType,
            serviceOutput: findReservation.serviceOutput,
            project: seller.project
        });
    });
    return results;
}
/**
 * 支払い方法作成
 */
function createPaymentMethodFromType(args) {
    switch (args.paymentMethodType) {
        case _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].paymentMethodType.Cash: {
            return { typeOf: args.paymentMethodType, name: '現金' };
        }
        case _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].paymentMethodType.CreditCard: {
            return { typeOf: args.paymentMethodType, name: 'クレジットカード' };
        }
        case _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].paymentMethodType.EMoney: {
            return { typeOf: args.paymentMethodType, name: '電子マネー' };
        }
        default: {
            return {
                typeOf: args.paymentMethodType,
                name: (args.paymentMethodName === undefined) ? 'その他' : args.paymentMethodName
            };
        }
    }
}
/**
 * 券種金額取得
 * @deprecated 非推奨（廃止予定）
 */
function getTicketPrice(ticket) {
    var result = {
        unitPriceSpecification: 0,
        videoFormatCharge: 0,
        soundFormatCharge: 0,
        movieTicketTypeCharge: 0,
        total: 0,
        single: 0
    };
    if (ticket.priceSpecification === undefined) {
        return result;
    }
    var priceComponent = ticket.priceSpecification.priceComponent;
    var priceSpecificationType = _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.priceSpecificationType;
    var unitPriceSpecifications = priceComponent.filter(function (s) { return s.typeOf === priceSpecificationType.UnitPriceSpecification; });
    var movieTicketTypeCharges = priceComponent.filter(function (s) { return s.typeOf === priceSpecificationType.MovieTicketTypeChargeSpecification; });
    result.unitPriceSpecification += unitPriceSpecifications[0].price;
    movieTicketTypeCharges.forEach(function (movieTicketTypeCharge) {
        result.movieTicketTypeCharge += movieTicketTypeCharge.price;
    });
    result.total = result.unitPriceSpecification + result.videoFormatCharge + result.soundFormatCharge + result.movieTicketTypeCharge;
    var unitPriceSpecification = unitPriceSpecifications[0];
    if (unitPriceSpecification.typeOf === priceSpecificationType.UnitPriceSpecification) {
        var referenceQuantityValue = (unitPriceSpecification.referenceQuantity.value === undefined)
            ? 1
            : unitPriceSpecification.referenceQuantity.value;
        result.single = result.total / referenceQuantityValue;
    }
    return result;
}
/**
 * アイテム金額取得
 */
function getItemPrice(params) {
    var price = 0;
    // 券種価格
    var priceComponents = params.priceComponents;
    if (priceComponents === undefined) {
        return price;
    }
    var priceSpecificationType = _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.priceSpecificationType;
    priceComponents.forEach(function (p) {
        if (p.typeOf === priceSpecificationType.UnitPriceSpecification) {
            var value = (p.referenceQuantity.value) ? p.referenceQuantity.value : 1;
            price += p.price / value;
            return;
        }
        price += p.price;
    });
    // 座席価格
    var seat = params.seat;
    if (seat === undefined || seat.offers === undefined) {
        return price;
    }
    seat.offers.forEach(function (o) {
        if (o.priceSpecification === undefined) {
            return;
        }
        o.priceSpecification.priceComponent.forEach(function (p) { return price += p.price; });
    });
    return price;
}
/**
 * ムビチケ認証購入管理番号無効事由区分変換
 */
function movieTicketAuthErroCodeToMessage(code) {
    var table = [
        { code: '01', ja: '存在無', en: 'no existence' },
        { code: '02', ja: 'PINｺｰﾄﾞ必須', en: 'PIN code required' },
        { code: '03', ja: 'PINｺｰﾄﾞ認証ｴﾗｰ', en: 'PIN code authentication error' },
        { code: '04', ja: '作品不一致', en: 'Work disagreement' },
        { code: '05', ja: '未ｱｸﾃｨﾍﾞｰﾄ', en: 'unactivated' },
        { code: '06', ja: '選択興行対象外', en: 'Not eligible for selection box' },
        { code: '07', ja: '有効期限切れ', en: 'expired' },
        { code: '08', ja: '座席予約期間外', en: 'outside the seat reservation period' },
        { code: '09', ja: 'その他', en: 'other' },
        { code: '11', ja: '座席予約開始前', en: 'Before starting seat reservation' },
        { code: '12', ja: '仮お直り購入番号数不一致', en: 'temporary redemption purchase number mismatch' }
    ];
    var findResult = table.find(function (data) { return data.code === code; });
    return (findResult === undefined) ? { ja: 'その他', en: 'other' } : { ja: findResult.ja, en: findResult.en };
}
/**
 * 予約金額取得
 */
function getAmount(authorizeSeatReservations) {
    var amounts = authorizeSeatReservations.map(function (reservations) { return (reservations.result === undefined)
        ? 0
        : reservations.result.price; });
    var amount = amounts.reduce(function (previousValue, currentValue) { return previousValue + currentValue; });
    return amount;
}
/**
 * イベント別オーダーへ変換
 */
function order2EventOrders(params) {
    var results = [];
    var order = params.order;
    order.acceptedOffers.forEach(function (acceptedOffer) {
        var itemOffered = acceptedOffer.itemOffered;
        if (itemOffered.typeOf !== _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.reservationType.EventReservation) {
            return;
        }
        var registered = results.find(function (result) {
            return (result.event.id === itemOffered.reservationFor.id);
        });
        if (registered === undefined) {
            results.push({
                event: itemOffered.reservationFor,
                data: [acceptedOffer]
            });
        }
        else {
            registered.data.push(acceptedOffer);
        }
    });
    // 公開日順（降順）へソート
    var sortResult = results.sort(function (a, b) {
        if (a.event.workPerformed === undefined
            || b.event.workPerformed === undefined
            || a.event.workPerformed.datePublished === undefined
            || b.event.workPerformed.datePublished === undefined) {
            return 0;
        }
        var unixA = moment__WEBPACK_IMPORTED_MODULE_1__(a.event.workPerformed.datePublished).unix();
        var unixB = moment__WEBPACK_IMPORTED_MODULE_1__(b.event.workPerformed.datePublished).unix();
        if (unixA > unixB) {
            return -1;
        }
        if (unixA < unixB) {
            return 1;
        }
        return 0;
    });
    return sortResult;
}
/**
 * 座席予約をイベントごとに変換
 */
function authorizeSeatReservation2Event(params) {
    var results = [];
    var authorizeSeatReservations = params.authorizeSeatReservations;
    authorizeSeatReservations.forEach(function (authorizeSeatReservation) {
        if (authorizeSeatReservation.result === undefined) {
            return;
        }
        var reservations = authorizeSeatReservation.result.responseBody.object.reservations;
        reservations.forEach(function (reservation) {
            var registered = results.find(function (result) {
                return (result.event.id === reservation.reservationFor.id);
            });
            if (registered === undefined) {
                results.push({
                    event: reservation.reservationFor,
                    reservations: [reservation]
                });
            }
            else {
                registered.reservations.push(reservation);
            }
        });
    });
    return results;
}
/**
 * 残席数取得
 */
function getRemainingSeatLength(screeningEventOffers, screeningEvent) {
    var result = 0;
    var limitSeatNumber = (screeningEvent.workPerformed === undefined
        || screeningEvent.workPerformed.additionalProperty === undefined)
        ? undefined : screeningEvent.workPerformed.additionalProperty.find(function (a) { return a.name === 'limitSeatNumber'; });
    screeningEventOffers.forEach(function (s) {
        var sectionResult = s.containsPlace.filter(function (c) {
            if (limitSeatNumber !== undefined) {
                // 作品追加特性（limitSeatNumber）で座席数制御
                return (c.offers !== undefined
                    && c.offers[0].availability === _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.itemAvailability.InStock
                    && Number(c.branchCode) <= Number(limitSeatNumber.value));
            }
            return (c.offers !== undefined
                && c.offers[0].availability === _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.itemAvailability.InStock);
        });
        result += sectionResult.length;
    });
    return result;
}
/**
 * 適用座席タイプ判定
 */
function isEligibleSeatingType(params) {
    var seat = params.seat;
    var eligibleSeatingType = params.eligibleSeatingType;
    var filterResult = eligibleSeatingType.filter(function (e) {
        if (Array.isArray(seat.seatingType)) {
            return (seat.seatingType.find(function (s) { return e.codeValue === s; }) !== undefined);
        }
        return (e.codeValue === seat.seatingType);
    });
    return filterResult.length === eligibleSeatingType.length;
}
/**
 * 予約可能席取得
 */
function selectAvailableSeat(params) {
    var reservations = params.reservations;
    var screeningEventOffers = params.screeningEventOffers;
    var seats = [];
    screeningEventOffers.forEach(function (s) {
        var section = s.branchCode;
        s.containsPlace.forEach(function (c) {
            var selectedSeat = reservations.find(function (r) {
                return (r.seat !== undefined
                    && r.seat.seatNumber === c.branchCode
                    && r.seat.seatSection === section);
            });
            if ((c.offers === undefined || c.offers[0].availability !== _cinerino_api_javascript_client__WEBPACK_IMPORTED_MODULE_0__["factory"].chevre.itemAvailability.InStock)
                && selectedSeat === undefined) {
                // 在庫なし
                return;
            }
            seats.push({
                typeOf: c.typeOf,
                seatingType: c.seatingType,
                seatNumber: c.branchCode,
                seatRow: '',
                seatSection: section
            });
        });
    });
    var availableSeats = [];
    reservations.forEach(function (r) {
        var findReservationSeat = seats.find(function (s) {
            var findReservedSeat = availableSeats.find(function (a) {
                var findSubReservedSeat = a.subReservations.find(function (sub) { return sub.seatNumber === s.seatNumber && sub.seatSection === s.seatSection; });
                if (findSubReservedSeat !== undefined) {
                    // サブ予約済み座席
                    return true;
                }
                return (a.seatNumber === s.seatNumber && a.seatSection === s.seatSection);
            });
            if (findReservedSeat !== undefined) {
                // 予約済み座席
                return false;
            }
            if (r.ticket !== undefined
                && r.ticket.ticketOffer.eligibleSeatingType !== undefined
                && !isEligibleSeatingType({ seat: s, eligibleSeatingType: r.ticket.ticketOffer.eligibleSeatingType })) {
                // 適用座席タイプ違い
                return false;
            }
            if (r.seat !== undefined) {
                // 座席選択済みの場合予約中の座席を選択
                return (r.seat.seatNumber === s.seatNumber && r.seat.seatSection === s.seatSection);
            }
            return true;
        });
        if (findReservationSeat === undefined) {
            // 予約可能席なし
            return;
        }
        if (r.ticket === undefined
            || r.ticket.ticketOffer.eligibleSubReservation === undefined) {
            // サブ予約なし
            availableSeats.push(__assign({}, findReservationSeat, { subReservations: [] }));
            return;
        }
        // サブ予約分取得
        var subReservations = [];
        r.ticket.ticketOffer.eligibleSubReservation.forEach(function (e) {
            for (var i = 0; i < e.amountOfThisGood; i++) {
                var subReservation = seats.find(function (s) {
                    var findReservedSeat = availableSeats.find(function (a) {
                        var findSubReservedSeat = a.subReservations.find(function (sub) { return sub.seatNumber === s.seatNumber && sub.seatSection === s.seatSection; });
                        if (findSubReservedSeat !== undefined) {
                            // サブ予約済み座席
                            return true;
                        }
                        return (a.seatNumber === s.seatNumber && a.seatSection === s.seatSection);
                    });
                    if (findReservedSeat !== undefined) {
                        // 予約済み座席
                        return false;
                    }
                    var findSubReservationSeat = subReservations.find(function (sub) { return sub.seatNumber === s.seatNumber && sub.seatSection === s.seatSection; });
                    if (findSubReservationSeat !== undefined) {
                        // サブ予約中座席
                        return false;
                    }
                    if (findReservationSeat.seatNumber === s.seatNumber
                        && findReservationSeat.seatSection === s.seatSection) {
                        // 予約中座席
                        return false;
                    }
                    if (Array.isArray(s.seatingType)
                        && s.seatingType.find(function (t) { return t === e.typeOfGood.seatingType; }) === undefined) {
                        // 適用座席タイプ違い
                        return false;
                    }
                    if (!Array.isArray(s.seatingType)
                        && s.seatingType !== e.typeOfGood.seatingType) {
                        // 適用座席タイプ違い
                        return false;
                    }
                    if (r.seat !== undefined) {
                        // 座席選択済みの場合予約中の座席以外を選択
                        return !(r.seat.seatNumber === s.seatNumber && r.seat.seatSection === s.seatSection);
                    }
                    return true;
                });
                if (subReservation === undefined) {
                    return;
                }
                subReservations.push(subReservation);
            }
        });
        availableSeats.push(__assign({}, findReservationSeat, { subReservations: subReservations }));
    });
    return availableSeats;
}


/***/ }),

/***/ "./app/functions/util.function.ts":
/*!****************************************!*\
  !*** ./app/functions/util.function.ts ***!
  \****************************************/
/*! exports provided: formatTelephone, toFull, toHalf, retry, sleep, iOSDatepickerTapBugFix, streamingDownload, string2blob, getParameter, getProject, getExternalData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatTelephone", function() { return formatTelephone; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toFull", function() { return toFull; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toHalf", function() { return toHalf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retry", function() { return retry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sleep", function() { return sleep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iOSDatepickerTapBugFix", function() { return iOSDatepickerTapBugFix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "streamingDownload", function() { return streamingDownload; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "string2blob", function() { return string2blob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParameter", function() { return getParameter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProject", function() { return getProject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getExternalData", function() { return getExternalData; });
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! libphonenumber-js */ "../../node_modules/libphonenumber-js/index.es6.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

/**
 * 電話番号変換
 */
function formatTelephone(telephone, format) {
    if (telephone === undefined) {
        return '';
    }
    var parsedNumber = (new RegExp(/^\+/).test(telephone))
        ? libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__["parse"](telephone)
        : libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__["parse"](telephone, 'JP');
    format = (format === undefined) ? 'International' : format;
    return libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__["format"](parsedNumber, format).replace(/\s/g, '');
}
/**
 * 全角変換
 */
function toFull(value) {
    return value.replace(/[A-Za-z0-9]/g, function (s) {
        return String.fromCharCode(s.charCodeAt(0) + 65248);
    });
}
/**
 * 半角変換
 */
function toHalf(value) {
    return value.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {
        return String.fromCharCode(s.charCodeAt(0) - 65248);
    });
}
/**
 * リトライ
 * @param args
 */
function retry(args) {
    return __awaiter(this, void 0, void 0, function () {
        var count;
        var _this = this;
        return __generator(this, function (_a) {
            count = 0;
            return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                    var timerProcess, result, error_1;
                    var _this = this;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                timerProcess = function () {
                                    setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                                        var result, error_2;
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0:
                                                    count++;
                                                    _a.label = 1;
                                                case 1:
                                                    _a.trys.push([1, 3, , 4]);
                                                    return [4 /*yield*/, args.process()];
                                                case 2:
                                                    result = _a.sent();
                                                    resolve(result);
                                                    return [3 /*break*/, 4];
                                                case 3:
                                                    error_2 = _a.sent();
                                                    if (count >= args.limit) {
                                                        reject(error_2);
                                                        return [2 /*return*/];
                                                    }
                                                    timerProcess();
                                                    return [3 /*break*/, 4];
                                                case 4: return [2 /*return*/];
                                            }
                                        });
                                    }); }, args.interval);
                                };
                                _a.label = 1;
                            case 1:
                                _a.trys.push([1, 3, , 4]);
                                return [4 /*yield*/, args.process()];
                            case 2:
                                result = _a.sent();
                                resolve(result);
                                return [3 /*break*/, 4];
                            case 3:
                                error_1 = _a.sent();
                                timerProcess();
                                return [3 /*break*/, 4];
                            case 4: return [2 /*return*/];
                        }
                    });
                }); })];
        });
    });
}
/**
 * ミリ秒待つ
 * デフォルト値3000ms
 */
function sleep(time) {
    if (time === void 0) { time = 3000; }
    return __awaiter(this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve) {
                    setTimeout(function () {
                        resolve();
                    }, time);
                })];
        });
    });
}
/**
 * iOS bugfix（2回タップしないと選択できない）
 */
function iOSDatepickerTapBugFix(container, datepickerDirectives) {
    var dayHoverHandler = container.dayHoverHandler;
    var hoverWrapper = function (event) {
        var cell = event.cell, isHovered = event.isHovered;
        if ((isHovered &&
            !!navigator.platform &&
            /iPad|iPhone|iPod/.test(navigator.platform)) &&
            'ontouchstart' in window) {
            datepickerDirectives.forEach(function (d) { return d._datepickerRef.instance.daySelectHandler(cell); });
        }
        return dayHoverHandler(event);
    };
    container.dayHoverHandler = hoverWrapper;
}
/**
 * ストリーミングダウンロード
 */
function streamingDownload(stream) {
    return __awaiter(this, void 0, void 0, function () {
        var reader, decoder, streamText;
        var _this = this;
        return __generator(this, function (_a) {
            reader = stream.getReader();
            decoder = new TextDecoder();
            streamText = '';
            return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                    var readChunk_1, _a, error_3;
                    var _this = this;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                _b.trys.push([0, 3, , 4]);
                                readChunk_1 = function (chunk) { return __awaiter(_this, void 0, void 0, function () {
                                    var _a;
                                    return __generator(this, function (_b) {
                                        switch (_b.label) {
                                            case 0:
                                                if (chunk.done) {
                                                    resolve(streamText);
                                                    return [2 /*return*/];
                                                }
                                                streamText += decoder.decode(chunk.value);
                                                _a = readChunk_1;
                                                return [4 /*yield*/, reader.read()];
                                            case 1: return [4 /*yield*/, _a.apply(void 0, [_b.sent()])];
                                            case 2:
                                                _b.sent();
                                                return [2 /*return*/];
                                        }
                                    });
                                }); };
                                _a = readChunk_1;
                                return [4 /*yield*/, reader.read()];
                            case 1: return [4 /*yield*/, _a.apply(void 0, [_b.sent()])];
                            case 2:
                                _b.sent();
                                return [3 /*break*/, 4];
                            case 3:
                                error_3 = _b.sent();
                                reject(error_3);
                                return [3 /*break*/, 4];
                            case 4: return [2 /*return*/];
                        }
                    });
                }); })];
        });
    });
}
/**
 * 文字列をBLOB変換
 */
function string2blob(value, options) {
    var bom = new Uint8Array([0xEF, 0xBB, 0xBF]);
    return new Blob([bom, value], options);
}
/**
 * パラメータ取得
 */
function getParameter() {
    var result = {};
    var params = location.search.replace('?', '').split('&');
    for (var i = 0; i < params.length; i++) {
        var param = params[i].split('=');
        var key = param[0];
        var value = param[1];
        if (key && value) {
            result[key] = value;
        }
    }
    if (result.performanceId !== undefined
        && result.eventId === undefined) {
        result.eventId = result.performanceId;
        result.performanceId = undefined;
    }
    return result;
}
/**
 * プロジェクト情報取得
 */
function getProject() {
    var project = sessionStorage.getItem('PROJECT');
    if (project === null || project === '') {
        return {
            projectId: '',
            projectName: '',
            storageUrl: ''
        };
    }
    return JSON.parse(project);
}
function getExternalData() {
    var external = sessionStorage.getItem('EXTERNAL');
    if (external === null || external === '') {
        return {};
    }
    return JSON.parse(external);
}


/***/ }),

/***/ "./app/models/common/language.ts":
/*!***************************************!*\
  !*** ./app/models/common/language.ts ***!
  \***************************************/
/*! exports provided: Language */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Language", function() { return Language; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
/**
 * 言語
 */
var Language;
(function (Language) {
    Language["en"] = "English";
    Language["en-US"] = "English (American English)";
    Language["en-GB"] = "English (British English\u3001UK English)";
    Language["en-CA"] = "English (Canadian English)";
    Language["en-AU"] = "English (Australian English)";
    Language["fr"] = "French";
    Language["de"] = "German";
    Language["it"] = "Italian";
    Language["ja"] = "\u65E5\u672C\u8A9E";
    Language["ko"] = "Korean";
    Language["pt"] = "Portuguese";
    Language["ru"] = "Russian";
})(Language || (Language = {}));


/***/ }),

/***/ "./app/models/common/printer.ts":
/*!**************************************!*\
  !*** ./app/models/common/printer.ts ***!
  \**************************************/
/*! exports provided: connectionType, printers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectionType", function() { return connectionType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "printers", function() { return printers; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
/**
 * 接続の種類
 */
var connectionType;
(function (connectionType) {
    /**
     * なし
     */
    connectionType["None"] = "None";
    /**
     * 画像
     */
    connectionType["Image"] = "Image";
    /**
     * スター精密 LAN接続
     */
    connectionType["StarLAN"] = "StarLAN";
    /**
     * スター精密 Bluetooth接続
     */
    connectionType["StarBluetooth"] = "StarBluetooth";
})(connectionType || (connectionType = {}));
/**
 * プリンター一覧
 */
var printers = [
    {
        connectionType: connectionType.Image,
        name: 'setting.printType.image'
    },
    {
        connectionType: connectionType.StarLAN,
        name: 'setting.printType.starLAN'
    },
    {
        connectionType: connectionType.StarBluetooth,
        name: 'setting.printType.starBluetooth'
    }
];


/***/ }),

/***/ "./app/models/common/viewType.ts":
/*!***************************************!*\
  !*** ./app/models/common/viewType.ts ***!
  \***************************************/
/*! exports provided: ViewType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewType", function() { return ViewType; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var ViewType;
(function (ViewType) {
    /**
     * 映画用
     */
    ViewType["Cinema"] = "cinema";
    /**
     * イベント用
     */
    ViewType["Event"] = "event";
})(ViewType || (ViewType = {}));


/***/ }),

/***/ "./app/models/index.ts":
/*!*****************************!*\
  !*** ./app/models/index.ts ***!
  \*****************************/
/*! exports provided: SeatStatus, Performance, OrderActions, PrintQrcodeType, Language, ViewType, connectionType, printers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _purchase_screen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./purchase/screen */ "./app/models/purchase/screen.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SeatStatus", function() { return _purchase_screen__WEBPACK_IMPORTED_MODULE_0__["SeatStatus"]; });

/* harmony import */ var _purchase_performance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./purchase/performance */ "./app/models/purchase/performance.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Performance", function() { return _purchase_performance__WEBPACK_IMPORTED_MODULE_1__["Performance"]; });

/* harmony import */ var _order_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./order/action */ "./app/models/order/action.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OrderActions", function() { return _order_action__WEBPACK_IMPORTED_MODULE_2__["OrderActions"]; });

/* harmony import */ var _order_print__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./order/print */ "./app/models/order/print.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PrintQrcodeType", function() { return _order_print__WEBPACK_IMPORTED_MODULE_3__["PrintQrcodeType"]; });

/* harmony import */ var _common_language__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/language */ "./app/models/common/language.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Language", function() { return _common_language__WEBPACK_IMPORTED_MODULE_4__["Language"]; });

/* harmony import */ var _common_viewType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/viewType */ "./app/models/common/viewType.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewType", function() { return _common_viewType__WEBPACK_IMPORTED_MODULE_5__["ViewType"]; });

/* harmony import */ var _common_printer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/printer */ "./app/models/common/printer.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "connectionType", function() { return _common_printer__WEBPACK_IMPORTED_MODULE_6__["connectionType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "printers", function() { return _common_printer__WEBPACK_IMPORTED_MODULE_6__["printers"]; });

var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};









/***/ }),

/***/ "./app/models/order/action.ts":
/*!************************************!*\
  !*** ./app/models/order/action.ts ***!
  \************************************/
/*! exports provided: OrderActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderActions", function() { return OrderActions; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var OrderActions;
(function (OrderActions) {
    /**
     * キャンセル
     */
    OrderActions["Cancel"] = "Cancel";
})(OrderActions || (OrderActions = {}));


/***/ }),

/***/ "./app/models/order/print.ts":
/*!***********************************!*\
  !*** ./app/models/order/print.ts ***!
  \***********************************/
/*! exports provided: PrintQrcodeType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrintQrcodeType", function() { return PrintQrcodeType; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
/**
 * QRコード文字列
 */
var PrintQrcodeType;
(function (PrintQrcodeType) {
    PrintQrcodeType["Token"] = "token";
    PrintQrcodeType["Custom"] = "Custom";
})(PrintQrcodeType || (PrintQrcodeType = {}));


/***/ }),

/***/ "./app/models/purchase/performance.ts":
/*!********************************************!*\
  !*** ./app/models/purchase/performance.ts ***!
  \********************************************/
/*! exports provided: Performance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Performance", function() { return Performance; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "../../node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../environments/environment */ "./environments/environment.ts");
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


/**
 * Performance
 */
var Performance = /** @class */ (function () {
    function Performance(screeningEvent) {
        this.screeningEvent = screeningEvent;
    }
    /**
     * 販売判定
     */
    Performance.prototype.isSales = function (status) {
        var screeningEvent = this.screeningEvent;
        var environment = Object(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["getEnvironment"])();
        var offers = screeningEvent.offers;
        if (offers === undefined) {
            return false;
        }
        var result = false;
        var now = moment__WEBPACK_IMPORTED_MODULE_0__().unix();
        var window = Number(environment.PURCHASE_SCHEDULE_STATUS_WINDOW_TIME_MINUTES);
        switch (status) {
            case 'window':
                result = moment__WEBPACK_IMPORTED_MODULE_0__(offers.validThrough).unix() > now
                    && moment__WEBPACK_IMPORTED_MODULE_0__(screeningEvent.startDate).add(window).unix() < now;
                break;
            case 'start':
                result = !(moment__WEBPACK_IMPORTED_MODULE_0__(offers.validFrom).unix() < now);
                break;
            case 'end':
                result = !(moment__WEBPACK_IMPORTED_MODULE_0__(offers.validThrough).unix() > now);
                break;
            default:
                result = (moment__WEBPACK_IMPORTED_MODULE_0__(offers.validFrom).unix() < now
                    && moment__WEBPACK_IMPORTED_MODULE_0__(offers.validThrough).unix() > now
                    && moment__WEBPACK_IMPORTED_MODULE_0__(screeningEvent.startDate).add(window).unix() > now);
                break;
        }
        return result;
    };
    /**
     * 座席ステータス判定
     */
    Performance.prototype.isSeatStatus = function (status) {
        var screeningEvent = this.screeningEvent;
        var environment = Object(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["getEnvironment"])();
        var limitSeatNumber = (screeningEvent.workPerformed === undefined
            || screeningEvent.workPerformed.additionalProperty === undefined)
            ? undefined : screeningEvent.workPerformed.additionalProperty.find(function (a) { return a.name === 'limitSeatNumber'; });
        var remainingAttendeeCapacity = screeningEvent.remainingAttendeeCapacity;
        var maximumAttendeeCapacity = screeningEvent.maximumAttendeeCapacity;
        if (remainingAttendeeCapacity === undefined || maximumAttendeeCapacity === undefined) {
            return status === undefined;
        }
        if (limitSeatNumber !== undefined && maximumAttendeeCapacity > Number(limitSeatNumber.value)) {
            // 作品追加特性（limitSeatNumber）で座席数制御
            remainingAttendeeCapacity = (remainingAttendeeCapacity < (maximumAttendeeCapacity - Number(limitSeatNumber.value)))
                ? 0 : remainingAttendeeCapacity - (maximumAttendeeCapacity - Number(limitSeatNumber.value));
            maximumAttendeeCapacity = Number(limitSeatNumber.value);
        }
        var result = false;
        var unit = environment.PURCHASE_SCHEDULE_STATUS_THRESHOLD_UNIT;
        var value = Number(environment.PURCHASE_SCHEDULE_STATUS_THRESHOLD_VALUE);
        if (unit === '%') {
            // 割合指定
            switch (status) {
                case 'success':
                    result = (remainingAttendeeCapacity !== 0
                        && Math.floor(remainingAttendeeCapacity / maximumAttendeeCapacity * 100) >= value);
                    break;
                case 'warning':
                    result = (remainingAttendeeCapacity !== 0
                        && Math.floor(remainingAttendeeCapacity / maximumAttendeeCapacity * 100) < value
                        && remainingAttendeeCapacity > 0);
                    break;
                case 'danger':
                    result = (remainingAttendeeCapacity === 0 || remainingAttendeeCapacity > maximumAttendeeCapacity);
                    break;
                default:
                    break;
            }
            return result;
        }
        else if (unit === 'count') {
            // 数指定
            switch (status) {
                case 'success':
                    result = (remainingAttendeeCapacity !== 0
                        && remainingAttendeeCapacity >= value);
                    break;
                case 'warning':
                    result = (remainingAttendeeCapacity !== 0
                        && remainingAttendeeCapacity < value
                        && remainingAttendeeCapacity > 0);
                    break;
                case 'danger':
                    result = remainingAttendeeCapacity === 0;
                    break;
                default:
                    break;
            }
            return result;
        }
        else {
            return false;
        }
    };
    /**
     * 座席指定ありイベント判定
     */
    Performance.prototype.isTicketedSeat = function () {
        var screeningEvent = this.screeningEvent;
        return (screeningEvent.offers !== undefined
            && screeningEvent.offers.itemOffered.serviceOutput !== undefined
            && screeningEvent.offers.itemOffered.serviceOutput.reservedTicket !== undefined
            && screeningEvent.offers.itemOffered.serviceOutput.reservedTicket.ticketedSeat !== undefined);
    };
    return Performance;
}());



/***/ }),

/***/ "./app/models/purchase/screen.ts":
/*!***************************************!*\
  !*** ./app/models/purchase/screen.ts ***!
  \***************************************/
/*! exports provided: SeatStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SeatStatus", function() { return SeatStatus; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var SeatStatus;
(function (SeatStatus) {
    SeatStatus["Disabled"] = "disabled";
    SeatStatus["Default"] = "default";
    SeatStatus["Active"] = "active";
})(SeatStatus || (SeatStatus = {}));


/***/ }),

/***/ "./environments/environment.ts":
/*!*************************************!*\
  !*** ./environments/environment.ts ***!
  \*************************************/
/*! exports provided: getEnvironment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEnvironment", function() { return getEnvironment; });
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var defaultEnvironment = {
    production: false,
    APP_TITLE: '',
    APP_PREFIX: '',
    PROJECT_ID: '',
    ENTRANCE_SERVER_URL: '',
    VIEW_TYPE: 'cinema',
    GTM_ID: '',
    ANALYTICS_ID: '',
    STORAGE_NAME: '',
    STORAGE_TYPE: 'sessionStorage',
    BASE_URL: '/purchase/root',
    LANGUAGE: ['ja'],
    PORTAL_SITE_URL: '',
    DISPLAY_TICKETED_SEAT: false,
    HEADER_MENU: false,
    HEADER_MENU_SCOPE: [],
    FOOTER_COMPANY_URL: '',
    FOOTER_LAW_URL: '',
    FOOTER_PRIVACY_POLICY_URL: '',
    PURCHASE_CART: false,
    PURCHASE_ITEM_MAX_LENGTH: '50',
    PURCHASE_TRANSACTION_TIME: '15',
    PURCHASE_TRANSACTION_TIME_DISPLAY: false,
    PURCHASE_PRE_SCHEDULE_DATE: '3',
    PURCHASE_SCHEDULE_DISPLAY_LENGTH: '10',
    PURCHASE_SCHEDULE_OPEN_DATE: '2019-05-01',
    PURCHASE_SCHEDULE_SALES_DATE_VALUE: '0',
    PURCHASE_SCHEDULE_SALES_DATE_UNIT: 'hour',
    PURCHASE_SCHEDULE_SALES_STOP_TIME: '',
    PURCHASE_SCHEDULE_DEFAULT_SELECTED_DATE: '0',
    PURCHASE_SCHEDULE_STATUS_WINDOW_TIME_MINUTES: '-20',
    PURCHASE_SCHEDULE_STATUS_THRESHOLD_VALUE: '30',
    PURCHASE_SCHEDULE_STATUS_THRESHOLD_UNIT: '%',
    PURCHASE_VIEW_REMAINING_SEAT_THRESHOLD_VALUE: '0',
    PURCHASE_VIEW_REMAINING_SEAT_THRESHOLD_UNIT: 'seat',
    PURCHASE_COMPLETE_MAIL_CUSTOM: false,
    PURCHASE_TERMS: false,
    PURCHASE_WARNING: false,
    INQUIRY_CANCEL: false,
    INQUIRY_QRCODE: false,
    INQUIRY_PRINT: false,
    INQUIRY_PRINT_EXPIRED_VALUE: '0',
    INQUIRY_PRINT_EXPIRED_UNIT: 'hour',
    INQUIRY_PRINT_WAIT_TIME: '',
    INQUIRY_PRINT_SUCCESS_WAIT_TIME: '',
    INQUIRY_INPUT_KEYPAD: false,
    INQUIRY_ORDER_DATE_FROM_VALUE: '-3',
    INQUIRY_ORDER_DATE_FROM_UNIT: 'month',
    PRINT_QRCODE_TYPE: 'token',
    PRINT_QRCODE_CUSTOM: 'token',
    PRINT_LOADING: true,
    SETTING_DEVELOP_OPTION: false
};
function getEnvironment() {
    var environment = __assign({}, defaultEnvironment, window.environment, { production: (document.querySelector('body.production') !== null) });
    return environment;
}


/***/ }),

/***/ "./main.ts":
/*!*****************!*\
  !*** ./main.ts ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "../../node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hammerjs */ "../../node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment-timezone */ "../../node_modules/moment-timezone/index.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-bootstrap/chronos */ "../../node_modules/ngx-bootstrap/chronos/fesm5/ngx-bootstrap-chronos.js");
/* harmony import */ var ngx_bootstrap_locale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-bootstrap/locale */ "../../node_modules/ngx-bootstrap/locale/fesm5/ngx-bootstrap-locale.js");
/* harmony import */ var _app_functions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app/functions */ "./app/functions/index.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./environments/environment */ "./environments/environment.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var _this = undefined;
/**
 * main
 */








function main() {
    return __awaiter(this, void 0, void 0, function () {
        var params, project;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    // タイムゾーン設定
                    moment_timezone__WEBPACK_IMPORTED_MODULE_3__["tz"].setDefault('Asia/Tokyo');
                    moment_timezone__WEBPACK_IMPORTED_MODULE_3__["locale"]('ja');
                    // 言語設定
                    Object(ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_4__["defineLocale"])('ja', ngx_bootstrap_locale__WEBPACK_IMPORTED_MODULE_5__["jaLocale"]);
                    params = Object(_app_functions__WEBPACK_IMPORTED_MODULE_6__["getParameter"])();
                    if (location.hash === '') {
                        sessionStorage.setItem('EXTERNAL', JSON.stringify(__assign({}, params, { project: undefined })));
                    }
                    project = (params.project === undefined)
                        ? (Object(_app_functions__WEBPACK_IMPORTED_MODULE_6__["getProject"])().projectName === '') ? undefined : Object(_app_functions__WEBPACK_IMPORTED_MODULE_6__["getProject"])().projectName
                        : params.project;
                    return [4 /*yield*/, setProject({ project: project })];
                case 1:
                    _a.sent();
                    if (Object(_app_functions__WEBPACK_IMPORTED_MODULE_6__["getProject"])().storageUrl === undefined) {
                        return [2 /*return*/];
                    }
                    return [4 /*yield*/, setProjectConfig(Object(_app_functions__WEBPACK_IMPORTED_MODULE_6__["getProject"])().storageUrl)];
                case 2:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    });
}
/**
 * プロジェクト情報設定
 */
function setProject(params) {
    return __awaiter(this, void 0, void 0, function () {
        var fetchResult, json;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, fetch('/api/project', {
                        method: 'POST',
                        cache: 'no-cache',
                        headers: {
                            'Content-Type': 'application/json; charset=utf-8'
                        },
                        body: JSON.stringify(params)
                    })];
                case 1:
                    fetchResult = _a.sent();
                    if (!fetchResult.ok) {
                        throw new Error(JSON.stringify({ status: fetchResult.status, statusText: fetchResult.statusText }));
                    }
                    return [4 /*yield*/, fetchResult.json()];
                case 2:
                    json = _a.sent();
                    sessionStorage.setItem('PROJECT', JSON.stringify(json));
                    return [2 /*return*/];
            }
        });
    });
}
/**
 * プロジェクトごとのアプリケーション設定
 */
function setProjectConfig(storageUrl) {
    return __awaiter(this, void 0, void 0, function () {
        var fetchResult, _a, _b, environment, style, favicon;
        return __generator(this, function (_c) {
            switch (_c.label) {
                case 0: return [4 /*yield*/, fetch(storageUrl + "/js/environment.js?=date" + moment_timezone__WEBPACK_IMPORTED_MODULE_3__().toISOString(), {
                        method: 'GET',
                        cache: 'no-cache',
                        headers: { 'Content-Type': 'application/json; charset=utf-8' }
                    })];
                case 1:
                    fetchResult = _c.sent();
                    if (!fetchResult.ok) {
                        throw new Error(JSON.stringify({ status: fetchResult.status, statusText: fetchResult.statusText }));
                    }
                    if (fetchResult.body === null) {
                        throw new Error('fetchResult.body null');
                    }
                    _b = (_a = window).eval;
                    return [4 /*yield*/, fetchResult.text()];
                case 2:
                    _b.apply(_a, [_c.sent()]);
                    environment = Object(_environments_environment__WEBPACK_IMPORTED_MODULE_7__["getEnvironment"])();
                    style = document.createElement('link');
                    style.rel = 'stylesheet';
                    style.href = storageUrl + "/css/style.css?=date" + moment_timezone__WEBPACK_IMPORTED_MODULE_3__().toISOString();
                    document.head.appendChild(style);
                    favicon = document.createElement('link');
                    favicon.rel = 'icon';
                    favicon.type = 'image/x-icon"';
                    favicon.href = storageUrl + "/favicon.ico";
                    document.head.appendChild(favicon);
                    // タイトル設定
                    document.title = environment.APP_TITLE;
                    // GTM設定
                    if (environment.GTM_ID) {
                        (function (w, d, s, l, i) {
                            w[l] = w[l] || [];
                            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
                            var f = d.getElementsByTagName(s)[0];
                            var j = d.createElement(s), dl = l !== 'dataLayer' ? '&l=' + l : '';
                            j.async = true;
                            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                            f.parentNode.insertBefore(j, f);
                        })(window, document, 'script', 'dataLayer', environment.GTM_ID);
                    }
                    if (environment.production) {
                        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
                    }
                    return [2 /*return*/];
            }
        });
    });
}
main().then(function () { return __awaiter(_this, void 0, void 0, function () {
    var AppModule;
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, __webpack_require__.e(/*! import() | app-app-module */ "app-app-module").then(__webpack_require__.bind(null, /*! ./app/app.module */ "./app/app.module.ts"))];
            case 1:
                AppModule = (_a.sent()).AppModule;
                Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(AppModule);
                return [2 /*return*/];
        }
    });
}); }).catch(function (error) {
    location.href = '/404.html';
    console.error(error);
});


/***/ }),

/***/ 0:
/*!***********************!*\
  !*** multi ./main.ts ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\hataguchi\Desktop\workspace\Cinerino\frontend\src\client\main.ts */"./main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map